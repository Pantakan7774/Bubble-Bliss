<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏£‡πâ‡∏≤‡∏ô‡∏ä‡∏≤‡∏ô‡∏° ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™ üßã</title>
<style>
  body { font-family: "TH Sarabun New", sans-serif; background-color: #fff7e6; margin: 0; }
  header { background: #ffb6b9; padding: 10px; text-align: center; color: white; font-size: 24px; font-weight: bold; }
  .tabs { display: flex; justify-content: center; background: #fff0f0; padding: 5px; }
  .tab { cursor: pointer; padding: 10px 20px; background: #fff; margin: 0 5px; border-radius: 10px; }
  .tab.active { background: #ffb6b9; color: white; }
  .page { display: none; padding: 15px; }
  .page.active { display: block; }
  .menu-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }
  .item { background: #fff; border: 1px solid #f3d9b1; border-radius: 10px; padding: 10px; width: 210px; box-shadow: 0 0 5px #ddd; }
  .sweet-box, .topping-box, .quantity-box { margin-top: 8px; }
  button { background: #ffb6b9; border: none; padding: 6px 10px; border-radius: 8px; cursor: pointer; }
  #cart-list { text-align: left; padding: 10px; }
  #checkout-btn { background: #ffa8a8; padding: 10px 20px; font-size: 18px; border-radius: 10px; }
  input[type=number] { width: 60px; text-align: center; }
</style>
</head>
<body>

<header>‡∏£‡πâ‡∏≤‡∏ô‡∏ä‡∏≤‡∏ô‡∏° ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™ üßã</header>

<div class="tabs">
  <div class="tab active" onclick="showPage('menu')">‡πÄ‡∏°‡∏ô‡∏π</div>
  <div class="tab" onclick="showPage('cart')">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</div>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π -->
<div class="page active" id="menu">
  <h2 style="text-align:center;">üçπ ‡πÄ‡∏°‡∏ô‡∏π‡∏ä‡∏≤ üçπ</h2>
  <div class="menu-grid" id="tea-menu"></div>

  <h2 style="text-align:center;">üçì ‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡πâ‡∏≥‡∏ú‡∏•‡πÑ‡∏°‡πâ üçì</h2>
  <div class="menu-grid" id="fruit-menu"></div>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ -->
<div class="page" id="cart">
  <h2 style="text-align:center;">üß∫ ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
  <div id="cart-list"></div>
  <p id="total" style="text-align:center; font-weight:bold;">‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: 0‡∏ø</p>
  <div style="text-align:center;">
    <button id="checkout-btn" onclick="checkout()">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
  </div>
</div>

<script>
// ---------- ‡πÄ‡∏°‡∏ô‡∏π ----------
const menuTea = {
  "‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢ ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 50,
  "‡∏ä‡∏≤‡∏ô‡∏°‡πÑ‡∏ï‡πâ‡∏´‡∏ß‡∏±‡∏ô ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 50,
  "‡∏ô‡πâ‡∏≥‡∏ú‡∏∂‡πâ‡∏á‡∏°‡∏¥‡∏•‡∏Ñ‡πå ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 50,
  "‡πÇ‡∏Å‡πÇ‡∏Å‡πâ ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 50,
  "‡∏°‡∏±‡∏ó‡∏â‡∏∞ ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 50,
  "‡∏ä‡∏≤‡∏ô‡∏°‡πÄ‡∏ú‡∏∑‡∏≠‡∏Å ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 50,
  "‡∏ö‡∏£‡∏≤‡∏ß‡∏ô‡πå‡∏ä‡∏π‡∏Å‡∏≤‡∏£‡πå ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 60,
  "‡∏ä‡∏≤‡∏ô‡∏°‡∏ß‡∏ô‡∏¥‡∏•‡∏≤ ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 50,
  "‡∏ä‡∏≤‡∏ô‡∏°‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ‡∏Ñ‡∏£‡∏µ‡∏° ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 60,
  "‡∏ä‡∏≤‡∏ô‡∏°‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 60
};

const menuFruit = {
  "‡∏™‡∏ï‡∏£‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 39,
  "‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 39,
  "‡∏Å‡∏µ‡∏ß‡∏µ ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 39,
  "‡∏û‡∏µ‡∏ä ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 39,
  "‡πÄ‡∏™‡∏≤‡∏ß‡∏£‡∏™ ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 39,
  "‡∏•‡∏¥‡πâ‡∏ô‡∏à‡∏µ‡πà ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™": 39
};

// ---------- ‡∏ó‡πá‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á ----------
const toppings = {
  "‡πÑ‡∏°‡πà‡∏°‡∏µ": 0,
  "‡πÑ‡∏Ç‡πà‡∏°‡∏∏‡∏Å (+10‡∏ø)": 10,
  "‡∏ß‡∏∏‡πâ‡∏ô‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß (+15‡∏ø)": 15,
  "‡∏ü‡∏£‡∏∏‡∏ï‡∏™‡∏•‡∏±‡∏î (+15‡∏ø)": 15,
  "‡∏°‡∏∏‡∏Å‡∏ö‡∏£‡∏≤‡∏ß‡∏ô‡πå‡∏ä‡∏π‡∏Å‡∏≤‡∏£‡πå (+20‡∏ø)": 20,
  "‡∏ß‡∏¥‡∏õ‡∏Ñ‡∏£‡∏µ‡∏° (+20‡∏ø)": 20,
  "‡πÄ‡∏à‡∏•‡∏•‡∏µ‡πà‡∏ö‡∏£‡∏≤‡∏ß‡∏ô‡πå‡∏ä‡∏π‡∏Å‡∏≤‡∏£‡πå (+20‡∏ø)": 20
};

let cart = [];
let total = 0;

// ---------- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏ô‡∏π ----------
function renderMenu(menu, containerId) {
  const container = document.getElementById(containerId);
  for (const [name, price] of Object.entries(menu)) {
    const div = document.createElement("div");
    div.className = "item";
    div.innerHTML = `
      <strong>${name}</strong><br>${price}‡∏ø<br>
      <div class="sweet-box">
        <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏ô:</label><br>
        <select id="sweet-${name}">
          <option value="‡∏´‡∏ß‡∏≤‡∏ô 0%">0%</option>
          <option value="‡∏´‡∏ß‡∏≤‡∏ô 50%">50%</option>
          <option value="‡∏´‡∏ß‡∏≤‡∏ô 100%" selected>100%</option>
          <option value="‡∏´‡∏ß‡∏≤‡∏ô 125%">125%</option>
        </select>
      </div>
      <div class="topping-box">
        <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πá‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á:</label><br>
        <select id="topping-${name}">
          ${Object.entries(toppings).map(([tname, tprice]) => 
            `<option value="${tprice}">${tname}</option>`).join('')}
        </select>
      </div>
      <div class="quantity-box">
        <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏Å‡πâ‡∏ß:</label><br>
        <input type="number" id="qty-${name}" value="1" min="1" max="20">
      </div><br>
      <button onclick="addToCart('${name}', ${price})">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
    `;
    container.appendChild(div);
  }
}

renderMenu(menuTea, "tea-menu");
renderMenu(menuFruit, "fruit-menu");

// ---------- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ ----------
function addToCart(name, price) {
  const sweet = document.getElementById(`sweet-${name}`).value;
  const toppingSelect = document.getElementById(`topping-${name}`);
  const toppingName = toppingSelect.options[toppingSelect.selectedIndex].text;
  const toppingPrice = parseInt(toppingSelect.value);
  const qty = parseInt(document.getElementById(`qty-${name}`).value);

  const totalItem = (price + toppingPrice) * qty;
  cart.push({name, price, sweet, topping: toppingName, toppingPrice, qty, totalItem});
  alert(`${name} (${sweet}, ${toppingName}, ${qty} ‡πÅ‡∏Å‡πâ‡∏ß) ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß!`);
  updateCart();
}

// ---------- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ ----------
function updateCart() {
  const cartList = document.getElementById("cart-list");
  cartList.innerHTML = "";
  total = 0; // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏ß‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÉ‡∏´‡∏°‡πà
  cart.forEach((item, index) => {
    total += item.totalItem;
    const p = document.createElement("p");
    p.innerHTML = `${item.name} (${item.sweet}, ${item.topping}) √ó ${item.qty} = ${item.totalItem}‡∏ø 
                   <button onclick="removeFromCart(${index})">‡∏•‡∏ö</button>`;
    cartList.appendChild(p);
  });
  document.getElementById("total").textContent = `‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${total}‡∏ø`;
}

// ---------- ‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ----------
function removeFromCart(index) {
  if (index >= 0 && index < cart.length) {
    cart.splice(index, 1); // ‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≤‡∏Å cart
    updateCart(); // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
  }
}

// ---------- ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô ----------
function checkout() {
  if (cart.length === 0) {
    alert("‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤");
    return;
  }
  let receipt = "üßæ ‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏• ‡∏ö‡∏•‡∏¥‡∏™ üßã\n\n";
  cart.forEach(item => {
    receipt += `${item.name} (${item.sweet}, ${item.topping}) √ó ${item.qty} = ${item.totalItem}‡∏ø\n`;
  });
  receipt += `\n‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${total}‡∏ø\n\n‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏∞ üíñ`;
  alert(receipt);
  cart = [];
  total = 0;
  updateCart();
}

// ---------- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏ó‡πá‡∏ö ----------
function showPage(pageId) {
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.querySelector(`.tab[onclick="showPage('${pageId}')"]`).classList.add('active');
  document.getElementById(pageId).classList.add('active');
}
</script>

</body>
</html>
